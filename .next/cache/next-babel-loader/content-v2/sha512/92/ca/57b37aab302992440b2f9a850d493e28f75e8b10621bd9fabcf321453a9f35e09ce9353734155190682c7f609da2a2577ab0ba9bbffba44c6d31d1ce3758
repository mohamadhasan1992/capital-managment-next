{"ast":null,"code":"import NextAuth from \"next-auth\";\nimport Providers from \"next-auth/providers\";\nimport { userLogIn, userSignIn } from \"../../../dataFetching/postData\";\nexport default NextAuth({\n  session: {\n    jwt: true\n  },\n  providers: [Providers.Credentials({\n    async authorize(credentials) {\n      //authorization logic\n      const response = await userLogIn(\"http://127.0.0.2:8000/api/v1/user/login\", {\n        email: credentials.email,\n        password: credentials.password\n      });\n\n      if (response.status === \"success\") {\n        return {\n          name: response._id\n        };\n      } else {\n        throw new Error('cant be authorized');\n      }\n    }\n\n  })]\n});","map":{"version":3,"sources":["C:/Users/mohamadhasan tabrizi/Desktop/capitalnext/pages/api/auth/[...nextauth].js"],"names":["NextAuth","Providers","userLogIn","userSignIn","session","jwt","providers","Credentials","authorize","credentials","response","email","password","status","name","_id","Error"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,WAArB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,SAAQC,SAAR,EAAmBC,UAAnB,QAAoC,gCAApC;AAGA,eAAeH,QAAQ,CAAC;AACpBI,EAAAA,OAAO,EAAC;AACJC,IAAAA,GAAG,EAAC;AADA,GADY;AAIpBC,EAAAA,SAAS,EAAC,CACNL,SAAS,CAACM,WAAV,CAAsB;AAClB,UAAMC,SAAN,CAAgBC,WAAhB,EAA4B;AACxB;AACA,YAAMC,QAAQ,GAAG,MAAMR,SAAS,CAChC,yCADgC,EAEhC;AAACS,QAAAA,KAAK,EAACF,WAAW,CAACE,KAAnB;AAAyBC,QAAAA,QAAQ,EAACH,WAAW,CAACG;AAA9C,OAFgC,CAAhC;;AAKA,UAAIF,QAAQ,CAACG,MAAT,KAAoB,SAAxB,EAAmC;AAC/B,eAAO;AAACC,UAAAA,IAAI,EAACJ,QAAQ,CAACK;AAAf,SAAP;AACH,OAFD,MAEO;AACH,cAAM,IAAIC,KAAJ,CAAU,oBAAV,CAAN;AACH;AAEJ;;AAdiB,GAAtB,CADM;AAJU,CAAD,CAAvB","sourcesContent":["import NextAuth from \"next-auth\";\r\nimport Providers from \"next-auth/providers\";\r\nimport {userLogIn, userSignIn} from \"../../../dataFetching/postData\";\r\n\r\n\r\nexport default NextAuth({\r\n    session:{\r\n        jwt:true\r\n    },\r\n    providers:[\r\n        Providers.Credentials({\r\n            async authorize(credentials){\r\n                //authorization logic\r\n                const response = await userLogIn(\r\n                \"http://127.0.0.2:8000/api/v1/user/login\",\r\n                {email:credentials.email,password:credentials.password}\r\n                );\r\n                \r\n                if (response.status === \"success\") {\r\n                    return {name:response._id};\r\n                } else {\r\n                    throw new Error('cant be authorized');\r\n                }\r\n            \r\n            }\r\n        })\r\n    ]\r\n});\r\n"]},"metadata":{},"sourceType":"module"}